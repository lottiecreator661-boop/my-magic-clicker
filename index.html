<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TON EMPIRE ELITE</title>
    <style>
        :root { --accent: #0098EA; --bg: #05080f; --glass: rgba(255, 255, 255, 0.05); --grad: linear-gradient(135deg, #0098EA, #00f2ff); }
        body { background: var(--bg); color: #fff; font-family: 'Segoe UI', sans-serif; margin: 0; overflow: hidden; height: 100vh; user-select: none; }
        
        .header { padding: 15px 20px; background: rgba(0,0,0,0.6); backdrop-filter: blur(10px); border-bottom: 1px solid var(--glass); display: flex; justify-content: space-between; align-items: center; }
        .balance { font-size: 26px; font-weight: 900; color: #fff; text-shadow: 0 0 15px var(--accent); }
        
        .tab-content { display: none; padding: 20px; height: calc(100vh - 160px); overflow-y: auto; flex-direction: column; align-items: center; }
        .active { display: flex; }

        /* –ö–õ–ò–ö–ï–† */
        #coin { width: 200px; height: 200px; background: var(--grad); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 70px; cursor: pointer; box-shadow: 0 0 40px rgba(0, 152, 234, 0.4); border: 6px solid rgba(255,255,255,0.1); position: relative; margin: 30px 0; }
        .energy-bar { width: 100%; height: 10px; background: #1e293b; border-radius: 10px; overflow: hidden; margin: 10px 0; }
        #energy-fill { width: 100%; height: 100%; background: var(--grad); transition: width 0.2s; }

        /* –ò–ì–†–´ */
        .card { background: var(--glass); border-radius: 20px; padding: 18px; width: 100%; margin-bottom: 12px; border: 1px solid rgba(255,255,255,0.08); box-sizing: border-box; text-align: center; }
        .btn { background: var(--grad); border: none; color: #fff; padding: 14px; border-radius: 12px; font-weight: bold; width: 100%; cursor: pointer; }
        .input { background: #0f172a; border: 1px solid #334155; color: #fff; padding: 12px; border-radius: 10px; width: 100%; box-sizing: border-box; margin-bottom: 10px; text-align: center; }

        .mines-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 6px; margin-top: 15px; }
        .m-cell { background: #1e293b; height: 50px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 20px; border: 1px solid var(--glass); }

        /* –ú–ï–ù–Æ */
        .menu { position: fixed; bottom: 0; width: 100%; display: flex; background: #0b0f1a; padding: 10px 0 30px 0; border-top: 1px solid var(--glass); }
        .menu-item { flex: 1; text-align: center; font-size: 11px; color: #64748b; cursor: pointer; }
        .menu-item.active-nav { color: var(--accent); }
        .menu-item b { font-size: 20px; display: block; }
    </style>
</head>
<body>

<div class="header">
    <div>
        <div style="font-size: 10px; color: #10b981;">‚óè ONLINE: 842</div>
        <div class="balance"><span id="bal">0.00</span> TON</div>
    </div>
    <div id="vip-tag" style="display:none; background:#ffd700; color:#000; padding:2px 8px; border-radius:5px; font-size:10px; font-weight:bold;">VIP</div>
</div>

<div id="farm" class="tab-content active">
    <div id="coin">üíé</div>
    <div style="width: 80%;">
        <div style="display:flex; justify-content: space-between; font-size: 12px;"><span>‚ö° –≠–Ω–µ—Ä–≥–∏—è</span><span id="nrg-txt">2500/2500</span></div>
        <div class="energy-bar"><div id="energy-fill"></div></div>
    </div>
</div>

<div id="games" class="tab-content">
    <div id="g-list" style="width:100%">
        <div class="card" onclick="startG('mines')">üí£ –ú–ò–ù–´</div>
        <div class="card" onclick="startG('ladder')">ü™ú –õ–ï–°–ï–ù–ö–ê</div>
    </div>
    <div id="g-play" style="display:none; width:100%">
        <h3 id="g-title">–ò–ì–†–ê</h3>
        <div id="g-area"></div>
        <div id="g-info" style="margin:10px; color:#ffd700; font-weight:bold;"></div>
        <button id="btn-cash" class="btn" style="background:#10b981; display:none; margin-bottom:10px" onclick="cashout()">–ó–ê–ë–†–ê–¢–¨</button>
        <button class="btn" style="background:#475569" onclick="closeG()">–ù–ê–ó–ê–î</button>
    </div>
</div>

<div id="shop" class="tab-content">
    <div class="card" style="border:1px solid #ffd700">
        <h2 style="color:#ffd700">ELITE VIP</h2>
        <p style="font-size:14px">–ö–ª–∏–∫: 1.00 TON | –≠–Ω–µ—Ä–≥–∏—è: 2500</p>
        <button class="btn" style="background:#ffd700; color:#000" onclick="window.location.href='https://t.me/fresei'">–ö–£–ü–ò–¢–¨ –£ @FRESEI</button>
    </div>
</div>

<div id="profile" class="tab-content">
    <div class="card">
        <h3>–ü–†–û–ú–û–ö–û–î</h3>
        <input id="p-in" class="input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥">
        <button class="btn" onclick="useP()">–ê–ö–¢–ò–í–ò–†–û–í–ê–¢–¨</button>
    </div>
    <button id="adm-btn" class="btn" style="display:none; background:#ef4444; margin-top:10px" onclick="tab('admin')">‚öô –ê–î–ú–ò–ù –ü–ê–ù–ï–õ–¨</button>
</div>

<div id="admin" class="tab-content">
    <div class="card">
        <h3>–í–´–î–ê–¢–¨ TON / VIP</h3>
        <input id="a-val" class="input" type="number" placeholder="–°—É–º–º–∞">
        <button class="btn" style="margin-bottom:5px" onclick="adm('ton')">–í–´–î–ê–¢–¨ TON</button>
        <button class="btn" style="background:#f59e0b" onclick="adm('vip')">–í–´–î–ê–¢–¨ VIP</button>
    </div>
    <button class="btn" style="background:#475569" onclick="tab('profile')">–ù–ê–ó–ê–î</button>
</div>

<div class="menu">
    <div class="menu-item active-nav" onclick="tab('farm', this)"><b>‚õè</b>–ö–ª–∏–∫</div>
    <div class="menu-item" onclick="tab('games', this)"><b>üé≤</b>–ò–≥—Ä—ã</div>
    <div class="menu-item" onclick="tab('shop', this)"><b>üõí</b>–ú–∞–≥–∞–∑–∏–Ω</div>
    <div class="menu-item" onclick="tab('profile', this)"><b>üë§</b>–ü—Ä–æ—Ñ–∏–ª—å</div>
</div>

<script>
    const ADMIN_ID = 8388334620;
    let db = JSON.parse(localStorage.getItem('ton_final_v3')) || { bal: 100, nrg: 2500, vip: false, last: Date.now() };

    function save() { localStorage.setItem('ton_final_v3', JSON.stringify(db)); }

    function update() {
        let dt = (Date.now() - db.last) / 1000;
        if(db.nrg < 2500) db.nrg = Math.min(2500, db.nrg + (dt * 1.5));
        db.last = Date.now();

        document.getElementById('bal').innerText = db.bal.toFixed(2);
        document.getElementById('nrg-txt').innerText = Math.floor(db.nrg) + "/2500";
        document.getElementById('energy-fill').style.width = (db.nrg / 2500 * 100) + "%";
        
        if(db.vip) document.getElementById('vip-tag').style.display = 'block';
        if(ADMIN_ID === 8388334620) document.getElementById('adm-btn').style.display = 'block'; // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è —Ç–µ–±—è
        save();
    }

    // –¢–ê–ü–ê–õ–ö–ê
    document.getElementById('coin').onclick = () => {
        if(db.nrg >= 1) {
            let power = db.vip ? 1.0 : 0.5;
            db.nrg--; db.bal += power;
            update();
        }
    };

    // –ò–ì–†–´
    let cur = { active: false, bet: 0, mult: 1 };
    function startG(t) {
        document.getElementById('g-list').style.display = 'none';
        document.getElementById('g-play').style.display = 'block';
        let area = document.getElementById('g-area');
        if(t === 'mines') {
            document.getElementById('g-title').innerText = "–ú–ò–ù–´";
            area.innerHTML = `<input id="m-bet" class="input" type="number" placeholder="–°—Ç–∞–≤–∫–∞"><button class="btn" onclick="playMines()">–ò–ì–†–ê–¢–¨</button><div id="m-grid" class="mines-grid"></div>`;
        }
    }

    function playMines() {
        let b = parseFloat(document.getElementById('m-bet').value);
        if(b < 1 || b > db.bal) return alert("–ú–∞–ª–æ TON");
        db.bal -= b; cur = { active: true, bet: b, mult: 1, mines: [] };
        while(cur.mines.length < 3) { let r = Math.floor(Math.random()*25); if(!cur.mines.includes(r)) cur.mines.push(r); }
        let g = document.getElementById('m-grid'); g.innerHTML = '';
        for(let i=0; i<25; i++) {
            let c = document.createElement('div'); c.className = 'm-cell'; c.innerText = '?';
            c.onclick = () => {
                if(!cur.active || c.innerText !== '?') return;
                if(cur.mines.includes(i)) { c.innerText='üí£'; c.style.background='red'; cur.active=false; document.getElementById('btn-cash').style.display='none'; }
                else { c.innerText='üíé'; c.style.background='green'; cur.mult += 0.4; document.getElementById('g-info').innerText="–í–´–ü–õ–ê–¢–ê: "+(cur.bet*cur.mult).toFixed(2); document.getElementById('btn-cash').style.display='block'; }
            }; g.appendChild(c);
        }
        update();
    }

    function cashout() { if(!cur.active) return; db.bal += cur.bet * cur.mult; cur.active = false; closeG(); update(); }
    function closeG() { document.getElementById('g-list').style.display = 'block'; document.getElementById('g-play').style.display = 'none'; document.getElementById('g-info').innerText=''; }
    function tab(id, el) { 
        document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        if(el) { document.querySelectorAll('.menu-item').forEach(m => m.classList.remove('active-nav')); el.classList.add('active-nav'); }
    }

    function adm(t) {
        let v = parseFloat(document.getElementById('a-val').value);
        if(t === 'ton') db.bal += v; else db.vip = true;
        alert("–ì–æ—Ç–æ–≤–æ!"); save(); update();
    }

    function useP() { if(document.getElementById('p-in').value === 'ADMIN') { db.bal += 1000; alert("–ë–æ–Ω—É—Å 1000 TON!"); save(); update(); } }

    setInterval(update, 1000);
    update();
</script>
</body>
</html>
