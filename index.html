<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TON EMPIRE: GOD MODE</title>
    <style>
        :root { --blue: #00d2ff; --neon: #00f2ff; --glass: rgba(255, 255, 255, 0.07); --gold: #ffd700; }
        body { background: #020408; color: white; font-family: 'Segoe UI', sans-serif; margin: 0; overflow: hidden; height: 100vh; transition: 0.3s; }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç Overdrive */
        .overdrive-active { background: radial-gradient(circle, #1a0033 0%, #020408 100%) !important; box-shadow: inset 0 0 100px #ff00ff !important; }
        .overdrive-active #coin { transform: scale(1.1); box-shadow: 0 0 60px #ff00ff !important; filter: hue-rotate(280deg); }

        .header { padding: 15px; display: flex; justify-content: space-between; align-items: center; background: rgba(0,0,0,0.8); border-bottom: 1px solid var(--blue); backdrop-filter: blur(10px); z-index: 10; }
        .balance { font-size: 28px; font-weight: 900; color: #fff; text-shadow: 0 0 15px var(--blue); }

        .tab-content { display: none; padding: 20px; height: 78vh; overflow-y: auto; flex-direction: column; align-items: center; padding-bottom: 120px; }
        .active { display: flex; }

        /* Coin & Overdrive Bar */
        #coin { width: 180px; height: 180px; background: linear-gradient(135deg, var(--blue), #3a7bd5); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 60px; box-shadow: 0 0 30px var(--blue); border: 4px solid #fff; cursor: pointer; position: relative; transition: 0.1s; z-index: 5; }
        .ov-container { width: 80%; height: 6px; background: #111; border-radius: 10px; margin-top: 20px; overflow: hidden; border: 1px solid #333; }
        #ov-fill { width: 0%; height: 100%; background: #ff00ff; box-shadow: 0 0 10px #ff00ff; transition: 0.1s; }

        /* UI Cards */
        .card { background: var(--glass); border: 1px solid rgba(0, 210, 255, 0.2); border-radius: 18px; padding: 15px; margin: 10px 0; width: 100%; box-sizing: border-box; backdrop-filter: blur(5px); position: relative; overflow: hidden; }
        .btn-gold { background: linear-gradient(90deg, #ffd700, #ff8c00); border: none; color: #000; padding: 12px; border-radius: 12px; font-weight: 900; width: 100%; cursor: pointer; }
        .btn-blue { background: linear-gradient(90deg, var(--blue), #3a7bd5); border: none; color: #fff; padding: 12px; border-radius: 12px; font-weight: bold; width: 100%; cursor: pointer; }

        /* Animations */
        .tap-val { position: absolute; font-weight: 900; font-size: 32px; color: var(--blue); pointer-events: none; animation: float 0.7s ease-out forwards; z-index: 20; }
        @keyframes float { 0% { opacity: 1; transform: translateY(0) scale(1); } 100% { opacity: 0; transform: translateY(-150px) scale(1.5); } }

        /* Games Grid */
        .mines-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px; margin-top: 15px; }
        .m-cell { background: rgba(255,255,255,0.05); width: 55px; height: 55px; border-radius: 10px; border: 1px solid var(--blue); display: flex; align-items: center; justify-content: center; font-size: 22px; }

        .menu { position: fixed; bottom: 0; width: 100%; display: flex; background: rgba(5, 10, 20, 0.95); padding: 15px 0 30px; border-top: 1px solid var(--blue); z-index: 100; }
        .menu-item { flex: 1; text-align: center; color: #555; font-size: 10px; font-weight: bold; }
        .menu-item.active-nav { color: var(--blue); }
        .menu-item b { font-size: 22px; display: block; }
    </style>
</head>
<body>

<div class="header">
    <div>
        <div class="balance"><span id="bal">0.00</span> TON</div>
        <div style="color: #00ff88; font-size: 12px; font-weight: bold;">PASSIVE: +<span id="pps">0.00</span>/s</div>
    </div>
    <div id="vip-status"></div>
</div>

<div id="farm" class="tab-content active">
    <div id="coin">üíé</div>
    <div class="ov-container"><div id="ov-fill"></div></div>
    <div style="font-size: 10px; color: #ff00ff; margin-top: 5px; font-weight: bold;">OVERDRIVE METER</div>

    <div class="card" style="margin-top: 30px; text-align: center;">
        <div style="display:flex; justify-content:space-between; font-size: 14px;">
            <span>‚ö° ENERGY</span><span id="nrg-txt">0/0</span>
        </div>
        <div style="width:100%; height:10px; background:#111; border-radius:10px; margin-top:8px; border: 1px solid #333;">
            <div id="nrg-fill" style="height:100%; background:var(--blue); border-radius:10px; transition: 0.1s;"></div>
        </div>
    </div>
</div>

<div id="shop" class="tab-content">
    <div class="card" style="border: 1px solid var(--gold);">
        <h3 style="color: var(--gold); margin: 0;">üì¶ –õ–£–¢–ë–û–ö–° (CASE)</h3>
        <p style="font-size: 12px;">–®–∞–Ω—Å –Ω–∞ VIP –∏–ª–∏ 50,000 TON!</p>
        <button class="btn-gold" onclick="openCase()">–û–¢–ö–†–´–¢–¨ (500 TON)</button>
    </div>
    <div class="card">
        <h3>‚ùÑÔ∏è –û–•–õ–ê–ñ–î–ï–ù–ò–ï</h3>
        <p style="font-size: 12px;">–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –¥–æ—Ö–æ–¥ –º–∞–π–Ω–∏–Ω–≥–∞ –¥–æ 100%</p>
        <button class="btn-blue" onclick="coolDown()">–û–•–õ–ê–î–ò–¢–¨ –§–ï–†–ú–´</button>
    </div>
    <div class="card">
        <h3>üè¢ ELITE VIP</h3>
        <p style="font-size: 12px;">–ö–ª–∏–∫: 1.0 | –≠–Ω–µ—Ä–≥–∏—è: 25,000 | Overdrive x2</p>
        <button class="btn-blue" onclick="window.location.href='https://t.me/fresei'">–ö–£–ü–ò–¢–¨ –£ @FRESEI</button>
    </div>
</div>

<div id="games" class="tab-content">
    <div id="g-list" style="width: 100%;">
        <div class="card" onclick="openGame('mines')">üíé DIAMOND MINES</div>
        <div class="card" onclick="openGame('bj')">üÉè BLACKJACK PRO</div>
    </div>
    <div id="g-play" style="display:none; width: 100%;">
        <h2 id="g-title" style="color: var(--blue);">GAME</h2>
        <div id="g-area"></div>
        <div id="g-status" style="color: var(--gold); font-weight: 900; margin: 10px;"></div>
        <button id="cash-btn" class="btn-gold" style="display:none; margin-bottom: 10px;" onclick="cashout()">–ó–ê–ë–†–ê–¢–¨ –ö–≠–®</button>
        <button id="back-btn" class="btn-blue" style="background: #333;" onclick="closeGame()">–ù–ê–ó–ê–î</button>
    </div>
</div>

<div id="profile" class="tab-content">
    <div class="card">
        <h3>–í–ê–® ID: <span id="my-id">–ó–∞–≥—Ä—É–∑–∫–∞...</span></h3>
        <p>–°—Ç–∞—Ç—É—Å: <span id="my-status">–û–±—ã—á–Ω—ã–π</span></p>
    </div>
    <div id="admin-panel" style="display:none; width: 100%;">
        <div class="card" style="border: 2px solid #ff0000;">
            <h3 style="color: #ff0000;">GOD MODE (ADMIN)</h3>
            <button class="btn-gold" style="background: #ff0000; color: white;" onclick="db.bal += 1000000; update();">+1,000,000 TON</button>
            <button class="btn-blue" style="margin-top: 5px;" onclick="db.vip = true; update();">–í–ö–õ–Æ–ß–ò–¢–¨ VIP</button>
        </div>
    </div>
</div>

<div class="menu">
    <div class="menu-item active-nav" onclick="tab('farm', this)"><b>‚õè</b>–ö–õ–ò–ö</div>
    <div class="menu-item" onclick="tab('shop', this)"><b>üõí</b>–ú–ê–†–ö–ï–¢</div>
    <div class="menu-item" onclick="tab('games', this)"><b>üé≤</b>–ò–ì–†–´</div>
    <div class="menu-item" onclick="tab('profile', this)"><b>üë§</b>–ü–†–û–§–ò–õ–¨</div>
</div>

<script>
    const MY_REAL_ID = 8388334620; 
    let db = JSON.parse(localStorage.getItem('ton_empire_god_v4')) || {
        bal: 1000, nrg: 25000, vip: false, pps: 5.0, 
        ov: 0, last: Date.now()
    };

    let ovActive = false;
    let gameActive = false;

    function save() { localStorage.setItem('ton_empire_god_v4', JSON.stringify(db)); }

    function update() {
        let now = Date.now();
        let dt = (now - db.last) / 1000;
        
        // –ü–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥
        db.bal += db.pps * dt;
        
        // –≠–Ω–µ—Ä–≥–∏—è
        let maxN = db.vip ? 25000 : 2500;
        if(db.nrg < maxN) db.nrg = Math.min(maxN, db.nrg + (dt * 10));

        // Overdrive –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è
        if(!ovActive && db.ov > 0) db.ov -= 0.5;

        document.getElementById('bal').innerText = db.bal.toLocaleString(undefined, {minimumFractionDigits: 2});
        document.getElementById('pps').innerText = db.pps.toFixed(2);
        document.getElementById('nrg-txt').innerText = Math.floor(db.nrg) + "/" + maxN;
        document.getElementById('nrg-fill').style.width = (db.nrg / maxN * 100) + "%";
        document.getElementById('ov-fill').style.width = db.ov + "%";
        document.getElementById('my-id').innerText = MY_REAL_ID;

        if(db.vip) {
            document.getElementById('vip-status').innerHTML = '<span style="color:var(--gold); font-weight:900;">GOLD VIP</span>';
            document.getElementById('my-status').innerText = "ELITE –ú–ê–ì–ù–ê–¢";
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–¥–º–∏–Ω–∞
        if(MY_REAL_ID === 8388334620) {
            document.getElementById('admin-panel').style.display = 'block';
        }

        db.last = now;
        save();
    }

    // –¢–ê–ü–ê–õ–ö–ê –° –û–í–ï–†–î–†–ê–ô–í–û–ú
    document.getElementById('coin').onclick = (e) => {
        if(db.nrg >= 1 || ovActive) {
            let mult = ovActive ? 10.0 : (db.vip ? 1.0 : 0.5);
            if(!ovActive) db.nrg--;
            db.bal += mult;
            
            if(!ovActive) {
                db.ov += 2;
                if(db.ov >= 100) startOverdrive();
            }

            // –ê–Ω–∏–º–∞—Ü–∏—è
            let el = document.createElement('div');
            el.className = 'tap-val';
            el.innerText = '+' + mult;
            el.style.left = e.pageX + 'px';
            el.style.top = e.pageY + 'px';
            document.body.appendChild(el);
            setTimeout(() => el.remove(), 700);
            update();
        }
    };

    function startOverdrive() {
        ovActive = true;
        document.body.classList.add('overdrive-active');
        let timer = setInterval(() => {
            db.ov -= 10;
            if(db.ov <= 0) {
                clearInterval(timer);
                ovActive = false;
                document.body.classList.remove('overdrive-active');
                db.ov = 0;
            }
            update();
        }, 1000);
    }

    // –ö–ï–ô–°–´
    function openCase() {
        if(db.bal < 500) return alert("–ú–∞–ª–æ TON!");
        db.bal -= 500;
        let r = Math.random() * 100;
        if(r > 98) { db.vip = true; alert("üî• –õ–ï–ì–ï–ù–î–ê–†–ù–û: –í–´–ü–ê–õ VIP –°–¢–ê–¢–£–°!"); }
        else if(r > 80) { db.bal += 5000; alert("üí∞ –ó–û–õ–û–¢–û: +5,000 TON!"); }
        else { db.bal += 50; alert("üí© –ú–£–°–û–†: +50 TON"); }
        update();
    }

    // –ò–ì–†–´
    let curG = { bet: 0, mult: 1, bombs: [] };
    function openGame(t) {
        document.getElementById('g-list').style.display = 'none';
        document.getElementById('g-play').style.display = 'block';
        let area = document.getElementById('g-area');
        area.innerHTML = '';
        if(t === 'mines') {
            document.getElementById('g-title').innerText = "DIAMOND MINES";
            area.innerHTML = `<input id="m-bet" class="btn-blue" style="background:#111; margin-bottom:10px;" type="number" placeholder="–°–¢–ê–í–ö–ê">
                              <button id="m-start" class="btn-gold" onclick="startMines()">–ò–ì–†–ê–¢–¨</button><div id="m-grid" class="mines-grid"></div>`;
        }
    }

    function startMines() {
        if(gameActive) return;
        let b = parseFloat(document.getElementById('m-bet').value);
        if(isNaN(b) || b < 1 || b > db.bal) return;
        db.bal -= b; gameActive = true; curG = { bet: b, mult: 1, bombs: [] };
        document.getElementById('m-start').disabled = true;
        document.getElementById('back-btn').style.display = 'none';
        while(curG.bombs.length < 4) {
            let r = Math.floor(Math.random()*25);
            if(!curG.bombs.includes(r)) curG.bombs.push(r);
        }
        let grid = document.getElementById('m-grid'); grid.innerHTML = '';
        for(let i=0; i<25; i++) {
            let c = document.createElement('div'); c.className = 'm-cell'; c.innerText = 'üíé';
            c.onclick = () => {
                if(!gameActive || c.style.background !== '') return;
                if(curG.bombs.includes(i)) {
                    c.innerText = 'üí•'; c.style.background = 'red';
                    gameActive = false; alert("–í–ó–†–´–í!"); closeGame();
                } else {
                    c.style.background = 'var(--blue)'; curG.mult += 0.6;
                    document.getElementById('g-status').innerText = "–ú–ù–û–ñ–ò–¢–ï–õ–¨: x" + curG.mult.toFixed(1);
                    document.getElementById('cash-btn').style.display = 'block';
                }
            }; grid.appendChild(c);
        }
        update();
    }

    function cashout() {
        db.bal += curG.bet * curG.mult;
        gameActive = false;
        alert("–ó–∞–±—Ä–∞–ª " + (curG.bet * curG.mult).toFixed(2) + " TON!");
        closeGame();
    }

    function closeGame() {
        gameActive = false;
        document.getElementById('g-list').style.display = 'block';
        document.getElementById('g-play').style.display = 'none';
        document.getElementById('cash-btn').style.display = 'none';
        document.getElementById('back-btn').style.display = 'block';
        document.getElementById('g-status').innerText = '';
    }

    function tab(id, el) {
        document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        document.querySelectorAll('.menu-item').forEach(m => m.classList.remove('active-nav'));
        el.classList.add('active-nav');
    }

    setInterval(update, 100);
</script>
</body>
</html>
